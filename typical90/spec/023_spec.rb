RSpec.describe 'test' do
  it 'test with "1 3\n...\n"' do
    io = IO.popen("ruby typical90/023.rb", "w+")
    io.puts("1 3\n...\n")
    io.close_write
    expect(io.readlines.join).to eq("5\n")
  end

  it 'test with "...     o..     .o.     ..o     o.o\n"' do
    io = IO.popen("ruby typical90/023.rb", "w+")
    io.puts("...     o..     .o.     ..o     o.o\n")
    io.close_write
    expect(io.readlines.join).to eq("3 3\n.#.\n#..\n.##\n")
  end

  it 'test with "13\n"' do
    io = IO.popen("ruby typical90/023.rb", "w+")
    io.puts("13\n")
    io.close_write
    expect(io.readlines.join).to eq(".#.     o#.     .#o     .#.     .#.     .#.     o#o\n#..     #..     #..     #o.     #.o     #..     #..\n.##     .##     .##     .##     .##     o##     .##\n\no#.     o#.     .#o     .#.     o#o     o#.\n#.o     #..     #..     #.o     #..     #.o\n.##     o##     o##     o##     o##     o##\n")
  end

  it 'test with "8 9\n######.##\n####..##.\n..#...#..\n###...###\n#....##.#\n.##......\n#.####..#\n#.#######\n"' do
    io = IO.popen("ruby typical90/023.rb", "w+")
    io.puts("8 9\n######.##\n####..##.\n..#...#..\n###...###\n#....##.#\n.##......\n#.####..#\n#.#######\n")
    io.close_write
    expect(io.readlines.join).to eq("273768\n")
  end

  it 'test with "17 17\n.####...#.....#.#\n.#....#.#####...#\n#...##.##...#..##\n..#..####..#...##\n.#..#..#.#.##...#\n.#.#.#...#.##..#.\n#...#..#..##..###\n###.#..###..###..\n...#.##.##.#....#\n..####....#.#...#\n.##...##.#.#...#.\n..########...###.\n#..##....#.......\n##.##..###.#.##..\n.##....#........#\n....#####..##.#..\n.###...##..##.#..\n"' do
    io = IO.popen("ruby typical90/023.rb", "w+")
    io.puts("17 17\n.####...#.....#.#\n.#....#.#####...#\n#...##.##...#..##\n..#..####..#...##\n.#..#..#.#.##...#\n.#.#.#...#.##..#.\n#...#..#..##..###\n###.#..###..###..\n...#.##.##.#....#\n..####....#.#...#\n.##...##.#.#...#.\n..########...###.\n#..##....#.......\n##.##..###.#.##..\n.##....#........#\n....#####..##.#..\n.###...##..##.#..\n")
    io.close_write
    expect(io.readlines.join).to eq("314465173\n")
  end

  it 'test with "22 18\n.##.##.#.#.#...##.\n####.#..###.#.#..#\n#####.##...##.###.\n...#.#.#.##.##.###\n..#.##.#.#....#...\n#.###.##....###..#\n....#####...#...#.\n.#..##..#..###....\n....#..##.#.#..#.#\n###.#.....#..##.#.\n#..#..#.#.##..###.\n#...#....##..###..\n..#...#..###..##..\n.#....#.#.#..###.#\n##.#.#..#..###..##\n....###.##.##.##..\n#...####.#.#..##..\n..#.###.###.###.##\n#...##.#.#.#...#.#\n#..###..########..\n#.##.#####.#..#.##\n#..#........#...#.\n"' do
    io = IO.popen("ruby typical90/023.rb", "w+")
    io.puts("22 18\n.##.##.#.#.#...##.\n####.#..###.#.#..#\n#####.##...##.###.\n...#.#.#.##.##.###\n..#.##.#.#....#...\n#.###.##....###..#\n....#####...#...#.\n.#..##..#..###....\n....#..##.#.#..#.#\n###.#.....#..##.#.\n#..#..#.#.##..###.\n#...#....##..###..\n..#...#..###..##..\n.#....#.#.#..###.#\n##.#.#..#..###..##\n....###.##.##.##..\n#...####.#.#..##..\n..#.###.###.###.##\n#...##.#.#.#...#.#\n#..###..########..\n#.##.#####.#..#.##\n#..#........#...#.\n")
    io.close_write
    expect(io.readlines.join).to eq("47296634\n")
  end

end
